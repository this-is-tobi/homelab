- name: Generate random admin password
  ansible.builtin.shell:
    cmd: |
      yq -i '.argocd.password = "{{ lookup('ansible.builtin.password', '/dev/null', length=24, chars=['ascii_letters', 'digits']) }}"' ../inventory/group_vars/all.yml
  when: argocd.password == ""
