minio:
  console:
    ingress:
      hostname: "minio.ohmlab.fr"
  ingress:
    hostname: "s3.ohmlab.fr"
    extraHosts:
    - name: "*.s3.ohmlab.fr"
      path: "/"
  persistence:
    size: "500Gi"

vso:
  vaultStaticSecrets:
    minioAdmin:
      mount: "homelab"
      path: "platforms/production/minio"
    minioConfig:
      mount: "homelab"
      path: "platforms/production/minio"
      destination:
        transformation:
          templates:
            MINIO_IDENTITY_OPENID_CONFIG_URL:
              text: "https://sso.ohmlab.fr/realms/homelab/.well-known/openid-configuration"
            MINIO_IDENTITY_OPENID_KEYCLOAK_ADMIN_URL:
              text: "https://sso.ohmlab.fr/admin"
            MINIO_IDENTITY_OPENID_KEYCLOAK_REALM:
              text: "homelab"
            MINIO_DOMAIN:
              text: "https://s3.ohmlab.fr"
            MINIO_BROWSER_REDIRECT_URL:
              text: "https://minio.ohmlab.fr/oauth_callback"
