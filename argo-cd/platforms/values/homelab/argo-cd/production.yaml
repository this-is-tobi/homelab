argo-cd:
  configs:
    secret:
      argocdServerAdminPassword: "$argo-cd-config:PASSWORD_HASHED"
    cm:
      url: "https://gitops.ohmlab.fr"
      oidc.config: |
        name: "Keycloak"
        issuer: "https://sso.ohmlab.fr/realms/homelab"
        clientID: "argo-cd"
        clientSecret: "$argo-cd-sso:OIDC_CLIENT_SECRET"
        requestedScopes: ["openid", "profile", "email", "groups"]
  notifications:
    enabled: false
    argocdUrl: "https://gitops.ohmlab.fr"
    context:
      provider: "self-hosted"
      cluster: "homelab"
      environment: "production"
    secret:
      create: false
      items:
        mattermost-token: ""
        email-username: ""
        email-password: ""
        # mattermost-token: "$argo-cd-config:mattermost-token"
        # email-username: "$argo-cd-config:email-username"
        # email-password: "$argo-cd-config:email-password"
    notifiers:
      service.email: |
        username: $email-username
        password: $email-password
        host: "smtp.ohmlab.fr"
        port: 465
        from: "no-reply@ohmlab.fr"
      service.mattermost: |
        apiURL: "https://mattermost.ohmlab.fr"
        token: $mattermost-token
  applicationSet:
    ingress:
      hostname: "appset.gitops.ohmlab.fr"
  server:
    ingress:
      hostname: "gitops.ohmlab.fr"
  crds:
    install: false
    keep: true

vso:
  vaultStaticSecrets:
    argoCdAdmin:
      mount: "homelab"
      path: "platforms/production/argo-cd"
    argoCdConfig:
      mount: "homelab"
      path: "platforms/production/argo-cd"
    argoCdSso:
      mount: "homelab"
      path: "platforms/production/argo-cd"
