waultwarden:
  domain: "https://vaultwarden.ohmlab.fr"
  adminToken:
    existingSecret: "vaultwarden-admin"
    existingSecretKey: "token"
  database:
    host: "vaultwarden-pg-cluster-rw"
    port: 5432
    dbName: "vaultwarden"
    existingSecret: "vaultwarden-pg-cluster-app"
    existingSecretUserKey: "username"
    existingSecretPasswordKey: "password"
  invitationOrgName: "Ohmlab"
  ingress:
    hostname: "vaultwarden.ohmlab.fr"
    tlsSecret: "vaultwarden.ohmlab.fr-tls"

cnpg:
  mode: "primary"
  credentials:
    existingSecrets:
      enabled: true
      postgres:
        secretName: "vaultwarden-pg-cluster-admin"
      app:
        secretName: "vaultwarden-pg-cluster-app"
  backup:
    enabled: true
    endpointURL: "https://s3.fr-par.scw.cloud"
    destinationPath: "s3://ohmlab-backups/cnpg"
    s3Credentials:
      create: false
      secretName: "vaultwarden-pg-cluster-backup"
      accessKeyId:
        key: "S3_ACCESS_KEY"
      secretAccessKey:
        key: "S3_SECRET_KEY"
      region:
        key: "S3_REGION"

vso:
  vaultStaticSecrets:
    vaultwardenAdmin:
      mount: "homelab"
      path: "platforms/production/vaultwarden"
    vaultwardenDbInfos:
      mount: "homelab"
      path: "platforms/production/vaultwarden"
    vaultwardenDbAdmin:
      mount: "homelab"
      path: "platforms/production/vaultwarden"
    vaultwardenDbApp:
      mount: "homelab"
      path: "platforms/production/vaultwarden"
    vaultwardenPgBackup:
      mount: "homelab"
      path: "platforms/production/vaultwarden"
    vaultwardenSso:
      mount: "homelab"
      path: "platforms/production/vaultwarden"
